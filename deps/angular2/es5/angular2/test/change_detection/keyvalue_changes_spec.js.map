{"version":3,"sources":["@traceur/generated/TemplateParser/22","angular2/test/change_detection/keyvalue_changes_spec.js","@traceur/generated/TemplateParser/30","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/20","@traceur/generated/TemplateParser/25"],"names":[],"mappings":"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","file":"angular2/test/change_detection/keyvalue_changes_spec.js","sourceRoot":"/Users/patrick/Documents/open source/angular/dist/js/dev/es6/","sourcesContent":["System.register($__placeholder__0, function($__export) {\n          $__placeholder__1\n        });","import {describe, it, iit, xit, expect, beforeEach, afterEach} from 'angular2/test_lib';\nimport {KeyValueChanges} from 'angular2/src/change_detection/pipes/keyvalue_changes';\nimport {NumberWrapper, isJsObject} from 'angular2/src/facade/lang';\nimport {MapWrapper} from 'angular2/src/facade/collection';\nimport {kvChangesAsString} from './util';\n\n// todo(vicb): Update the code & tests for object equality\nexport function main() {\n  describe('keyvalue_changes', function() {\n    describe('KeyValueChanges', function() {\n      var changes;\n      var m;\n\n      beforeEach(() => {\n        changes = new KeyValueChanges();\n        m = MapWrapper.create();\n      });\n\n      afterEach(() => {\n        changes = null;\n      });\n\n      it('should detect additions', () => {\n        changes.check(m);\n\n        MapWrapper.set(m, 'a', 1);\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['a[null->1]'],\n          additions: ['a[null->1]']\n        }));\n\n        MapWrapper.set(m, 'b', 2);\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['a', 'b[null->2]'],\n          previous: ['a'],\n          additions: ['b[null->2]']\n        }));\n      });\n\n      it('should handle changing key/values correctly', () => {\n        MapWrapper.set(m, 1, 10);\n        MapWrapper.set(m, 2, 20);\n        changes.check(m);\n\n        MapWrapper.set(m, 2, 10);\n        MapWrapper.set(m, 1, 20);\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['1[10->20]', '2[20->10]'],\n          previous: ['1[10->20]', '2[20->10]'],\n          changes: ['1[10->20]', '2[20->10]']\n        }));\n      });\n\n      it('should do basic map watching', () => {\n        changes.check(m);\n\n        MapWrapper.set(m, 'a', 'A');\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['a[null->A]'],\n          additions: ['a[null->A]']\n        }));\n\n        MapWrapper.set(m, 'b', 'B');\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['a', 'b[null->B]'],\n          previous: ['a'],\n          additions: ['b[null->B]']\n        }));\n\n        MapWrapper.set(m, 'b', 'BB');\n        MapWrapper.set(m, 'd', 'D');\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['a', 'b[B->BB]', 'd[null->D]'],\n          previous: ['a', 'b[B->BB]'],\n          additions: ['d[null->D]'],\n          changes: ['b[B->BB]']\n        }));\n\n        MapWrapper.delete(m, 'b');\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['a', 'd'],\n          previous: ['a', 'b[BB->null]', 'd'],\n          removals: ['b[BB->null]']\n        }));\n\n        MapWrapper.clear(m);\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          previous: ['a[A->null]', 'd[D->null]'],\n          removals: ['a[A->null]', 'd[D->null]']\n        }));\n      });\n\n      it('should test string by value rather than by reference (DART)', () => {\n        MapWrapper.set(m, 'foo', 'bar');\n        changes.check(m);\n\n        var f = 'f';\n        var oo = 'oo';\n        var b = 'b';\n        var ar = 'ar';\n\n        MapWrapper.set(m, f + oo, b + ar);\n        changes.check(m);\n\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['foo'],\n          previous: ['foo']\n        }));\n      });\n\n      it('should not see a NaN value as a change (JS)', () => {\n        MapWrapper.set(m, 'foo', NumberWrapper.NaN);\n        changes.check(m);\n\n        changes.check(m);\n        expect(changes.toString()).toEqual(kvChangesAsString({\n          map: ['foo'],\n          previous: ['foo']\n        }));\n      });\n\n      // JS specific tests (JS Objects)\n      if (isJsObject({})) {\n        describe('JsObject changes', () => {\n          it('should support JS Object', () => {\n            expect(KeyValueChanges.supports({})).toBeTruthy();\n            expect(KeyValueChanges.supports(\"not supported\")).toBeFalsy();\n            expect(KeyValueChanges.supports(0)).toBeFalsy();\n            expect(KeyValueChanges.supports(null)).toBeFalsy();\n          });\n\n          it('should do basic object watching', () => {\n            m = {};\n            changes.check(m);\n\n            m['a'] = 'A';\n            changes.check(m);\n            expect(changes.toString()).toEqual(kvChangesAsString({\n              map: ['a[null->A]'],\n              additions: ['a[null->A]']\n            }));\n\n            m['b'] = 'B';\n            changes.check(m);\n            expect(changes.toString()).toEqual(kvChangesAsString({\n              map: ['a', 'b[null->B]'],\n              previous: ['a'],\n              additions: ['b[null->B]']\n            }));\n\n            m['b'] = 'BB';\n            m['d'] = 'D';\n            changes.check(m);\n            expect(changes.toString()).toEqual(kvChangesAsString({\n              map: ['a', 'b[B->BB]', 'd[null->D]'],\n              previous: ['a', 'b[B->BB]'],\n              additions: ['d[null->D]'],\n              changes: ['b[B->BB]']\n            }));\n\n            m = {};\n            m['a'] = 'A';\n            m['d'] = 'D';\n            changes.check(m);\n            expect(changes.toString()).toEqual(kvChangesAsString({\n              map: ['a', 'd'],\n              previous: ['a', 'b[BB->null]', 'd'],\n              removals: ['b[BB->null]']\n            }));\n\n            m = {};\n            changes.check(m);\n            expect(changes.toString()).toEqual(kvChangesAsString({\n              previous: ['a[A->null]', 'd[D->null]'],\n              removals: ['a[A->null]', 'd[D->null]']\n            }));\n          });\n        });\n      }\n    });\n  });\n}\n","\n        $__export($__placeholder__0, $__placeholder__1)\n      ","return {\n      setters: $__placeholder__0,\n      execute: $__placeholder__1\n    }","function($__m) {\n          $__placeholder__0\n        }","$__placeholder__0 = $__m.$__placeholder__1;"]}